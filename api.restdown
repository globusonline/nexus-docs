---
title: Nexus API
mediaroot: media
markdown2extras: 
---

# Nexus API

Nexus is the service which provides user profiles, groups and other resources for GlobusOnline.
It also provides the interfaces for authentication with GlobusOnline.  All requests to globusonline are made in the context of a community.
The community name is set using the X-Go-Community-Context header.

So cURL requests to be executed in the context of a specific community would specify the header like:

`$ curl -H 'X-Go-Community-Context: mycommunity'`

If the community context is not set, the request will be made in the default GlobusOnline context.



### All API calls start with

`https://nexus.api.globusonline.org`


### Format

All responses are **JSON** (that is, except for the current HTML docs that you are reading).



# Users

Manage user profiles

## Create user 

*POST /users*

None

#### None

	$ curl -X POST -H "Content-Type: application/json" https://nexus.api.globusonline.org/users -d '{
		    "username": "username", 
		    "accept_terms": true, 
		    "opt_in": true, 
		    "fullname": "Dummy Users", 
		    "password": "ChangeMe", 
		    "email": "no-reply@globusonline.org"
		}'

---

#### Unsuccessfully create user with duplicate username

	$ curl -X POST -H "Content-Type: application/json" https://nexus.api.globusonline.org/users -d '{
		    "username": "username", 
		    "accept_terms": true, 
		    "opt_in": true, 
		    "fullname": "Dummy Users", 
		    "password": "ChangeMe", 
		    "email": "no-reply@globusonline.org"
		}'

---


## Get a user 

*GET /users/username*

None

#### Successfully retrieve a user

	$ curl -X GET -H "Content-Type: application/json" https://nexus.api.globusonline.org/users/username

---

#### Request nonexistant user.

	$ curl -X GET -H "Content-Type: application/json" https://nexus.api.globusonline.org/users/username

---


## Update a user profiles 

*PUT /users/username*

None

#### Successfully update a user profile.

	$ curl -X PUT -H "Content-Type: application/json" https://nexus.api.globusonline.org/users/username -d '{
		    "fullname": "New Name"
		}'

---


## Change user password 

*POST /users/username*

None

#### Successfully change password

	$ curl -X POST -H "Content-Type: application/json" https://nexus.api.globusonline.org/users/username -d '{
		    "password1": "NewPassword", 
		    "password2": "NewPassword", 
		    "currentpassword": "ChangeMe"
		}'

---


## Delete a user 

*DELETE /user/username*

None

#### Successfully delete user

	$ curl -X DELETE -H "Content-Type: application/json" https://nexus.api.globusonline.org/user/username

---





# Credentials

Manage credentials associated with a user profile.

Current supported types are:

* X.509
* MyProxy
* MyProxy (OAuth)
* SSH (OpenSSH format)
* Google (OpenId)


## Register a ssh credential. 

*POST /users/username/credentials/ssh2*

None

#### Successfully create an SSH credential for a user

	$ curl -X POST -H "Content-Type: application/json" https://nexus.api.globusonline.org/users/username/credentials/ssh2 -d '{
		    "alias": "My SSH Credential", 
		    "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCfsbK35x9W3fH/bZ/AJC0mq93DC7ulCleDeQoCsYHWWbLLDtWnlkpHCjXwK1zV7ECYh2FioUs/Dw38+Cj3H+T0EG2ZZrsG6LQOOOLMnAeOic0dD5KmkqJxsMXF1q+vuI1/DKH4qv3ijELduKyqnm/TvXaed+ibrKnM+BWNb0/e2ZmvWZxlBtPC5vpn6VRXDVKbxbwK+X/VRfYyyh0UZcsPoVs99xeHOPZ8c9xCK3Gx9Djp78IWXFcEuuz29wWb/3LEwq7btvA8GC+qNDa+Sh3Co2ikvfoa8g0jVEr58aqE6IwD9NMEoIcK/rDvdoyP39mTBKqHYBQRJ+JOzX9KyViB comment"
		}'

---


## Register an X.509 credential 

*POST /users/username/credentials/x509*

None

#### Successfully create an X.509 credential for a user

	$ curl -X POST -H "Content-Type: application/json" https://nexus.api.globusonline.org/users/username/credentials/x509 -d '{
		    "alias": "My X.509", 
		    "certificate": "-----BEGIN CERTIFICATE-----\nMIICejCCAeOgAwIBAgIBCTANBgkqhkiG9w0BAQUFADBJMQswCQYDVQQGEwJVUzEa\nMBgGA1UEChMRR2xvYnVzIENvbnNvcnRpdW0xHjAcBgNVBAMTFUNlcnRpZmljYXRl\nIEF1dGhvcml0eTAeFw0xMTAyMjQxOTU0MjBaFw0xMjAyMjQxOTU0MjBaMEAxCzAJ\nBgNVBAYTAlVTMRowGAYDVQQKExFHbG9idXMgQ29uc29ydGl1bTEVMBMGA1UEAxMM\nSkdsb2J1cyB0ZXN0MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC/lJGJInNL\n8EtkxNpkiSzAYDHgnEdopx7t7oyzAFIZ/wUXm2EL10M3maj/RaB+9buqmcSxMBp3\nnRJT72GO0MkxAYp20MSiDmDoTOQOwj4drt1plfYgDVfGp6NZdzaYGuu9FCIp8rNA\n9r45yE71rq7C/pgZkMgk231ICtJPWCAriwIDAQABo3sweTAJBgNVHRMEAjAAMCwG\nCWCGSAGG+EIBDQQfFh1PcGVuU1NMIEdlbmVyYXRlZCBDZXJ0aWZpY2F0ZTAdBgNV\nHQ4EFgQUeyIZsiXmtX/rBWJe1q2d1YkLZYQwHwYDVR0jBBgwFoAUeLGfYCEMWUsK\nTXr/aUeO0l3bGVYwDQYJKoZIhvcNAQEFBQADgYEA0xLD3WI14KnbUkD1kag0/vFk\n/RIYVEfGQEBQRAg9u48+5VixO5yPG8YCNODMAAMfBvmVBv1cuCszlLllDxVT96VM\nL3IjT582oYzQbk1DaDvGwNmQ1RTah6o/+CSOeRZ4Jr4h2p2CaTbMF2gwg+KLx8Pc\nPHNCl/fPxmu/1EYUBHo=\n-----END CERTIFICATE-----\n"
		}'

---


## Register a MyProxy OAuth account credential 

*POST /users/username/credentials/oauth*

This type of credential is used with a MyProxy service which exposes the OAuth protocol. This is the preferred method of working with MyProxy.  Note, that this action returns a redirct message, as opposed to a json body.  The url in the location header should be used to complete the OAuth dance.

#### Successfuly start the OAuth Dance with a MyProxy server

	$ curl -X POST -H "Content-Type: application/json" https://nexus.api.globusonline.org/users/username/credentials/oauth -d '{
		    "username": "username", 
		    "alias": "My OAuth", 
		    "server": "grid.ci.uchicago.edu"
		}'

---


## Register a standard MyProxy account credential 

*POST /users/username/credentials/myproxy*

Standard MyProxy is not the best type of credential to use if your MyProxy server supports OAuth.  Using standard MyProxy requires the user to send their password to the Nexus service.

#### Successfully create a MyProxy Credential

	$ curl -X POST -H "Content-Type: application/json" https://nexus.api.globusonline.org/users/username/credentials/myproxy -d '{
		    "username": "username", 
		    "alias": "My MyProxy account", 
		    "password": "password", 
		    "server": "grid.ci.uchicago.edu"
		}'

---


## List Credentials 

*POST /users/username/credentials*

None

#### List credentials for user

	$ curl -X POST -H "Content-Type: application/json" https://nexus.api.globusonline.org/users/username/credentials

---





# Groups

Manage groups.

## List Groups 

*GET /groups/list*

Show a list of groups.  Groups are hierarchical, i.e., groups can have child groups.  As such, a list of groups needs to have a base node and a depth.  The depth defines how many generations of groups should be retrieved.  So, a depth of 1 will return all of the child groups of the root, while a depth of 2 will return all of the children and grandchildren of the root group.

#### Get a list of groups 1 deep

	$ curl -X GET -H "Content-Type: application/json" https://nexus.api.globusonline.org/groups/list?depth=1

---





# Group

Manage a specific group. The url for all groups is defined in the results of the group list.  It will follow the pattern /groups/&lt;groupid&gt; but the groupid is, at the moment, an opaque identifier.  Similarly, the urls for subresources of a group are defined by the group summary.  They will follow the same pattern of using the groupid as the identifier.

## List group members 

*GET /groups/&lt;groupid&gt;/members*

As with the group summary

#### Successfully retrieve the list of members in a group.

	$ curl -X GET -H "Content-Type: application/json" https://nexus.api.globusonline.org/groups/34951220-ad51-407d-8502-f83168834ece/members

---


## Invite member to group 

*POST /groups/&lt;groupid&gt;/members*

People can be invited to a group either by email address or by username.  While they will need to have a user account to join a group, an invitation can be sent to an individual without an account

#### Invite someone to join a group via email address (Likely someone without an account)

	$ curl -X POST -H "Content-Type: application/json" https://nexus.api.globusonline.org/groups/34951220-ad51-407d-8502-f83168834ece/members -d '{
		    "emails": [
		        "user1@no-reply.com", 
		        "user2@no-reply.com"
		    ]
		}'

---

#### Invite someone to join a group by username

	$ curl -X POST -H "Content-Type: application/json" https://nexus.api.globusonline.org/groups/34951220-ad51-407d-8502-f83168834ece/members -d '{
		    "users": [
		        "user1", 
		        "user2"
		    ]
		}'

---


## List policies for group 

*GET /groups/&lt;groupid&gt;/policies*

Return a collection of policies for a group.  These represent "effective" policies, meaning that the policy list has been merged from parent groups.

#### Successfully retrieve policy list

	$ curl -X GET -H "Content-Type: application/json" https://nexus.api.globusonline.org/groups/34951220-ad51-407d-8502-f83168834ece/policies

---


## List messages or events for a group 

*GET /groups/&lt;groupid&gt;/messages*

Events and notifications are registered for a group. For example, when a new member joins a group that has specific requirements (as defined by the policies), an administrator needs to be notified to evaluate the request. This resource will return a list of those notifications.

#### Successfully retrieve a message list

	$ curl -X GET -H "Content-Type: application/json" https://nexus.api.globusonline.org/groups/34951220-ad51-407d-8502-f83168834ece/messages

---


## List email templates for a group 

*GET /groups/&lt;groupid&gt;/email_templates*

Groups have a set of associated email templates which are used to generate emails to be sent to members.  This returns a list of those templates

#### Successfully list email templates

	$ curl -X GET -H "Content-Type: application/json" https://nexus.api.globusonline.org/groups/34951220-ad51-407d-8502-f83168834ece/email_templates

---


## Create group 

*POST /groups*

Create a new group.  This can be a subgroup of another group or a root group (A group with no parent).

#### Create a subgroup

	$ curl -X POST -H "Content-Type: application/json" https://nexus.api.globusonline.org/groups -d '{
		    "is_active": true, 
		    "name": "My new group", 
		    "parent": "34951220-ad51-407d-8502-f83168834ece", 
		    "description": "This is my new sub group"
		}'

---

#### Create a new root group

	$ curl -X POST -H "Content-Type: application/json" https://nexus.api.globusonline.org/groups -d '{
		    "is_active": true, 
		    "name": "New root Group", 
		    "description": "Demonstrate creating a root group"
		}'

---







